ARM GAS  /tmp/ccQnQFVZ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"filter_complementary.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.ComplementaryFilter_Init,"ax",%progbits
  20              		.align	1
  21              		.global	ComplementaryFilter_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	ComplementaryFilter_Init:
  27              	.LVL0:
  28              	.LFB0:
  29              		.file 1 "App/Utils/filter_complementary.c"
   1:App/Utils/filter_complementary.c **** /**
   2:App/Utils/filter_complementary.c ****  * @file filter_complementary.c
   3:App/Utils/filter_complementary.c ****  * @author Jesutofunmi Kupoluyi (jimsufficiency@gmail.com)
   4:App/Utils/filter_complementary.c ****  * @brief 
   5:App/Utils/filter_complementary.c ****  * @version 0.1
   6:App/Utils/filter_complementary.c ****  * @date 2025-05-27
   7:App/Utils/filter_complementary.c ****  * 
   8:App/Utils/filter_complementary.c ****  * @copyright Copyright (c) 2025
   9:App/Utils/filter_complementary.c ****  * 
  10:App/Utils/filter_complementary.c ****  */
  11:App/Utils/filter_complementary.c **** 
  12:App/Utils/filter_complementary.c **** #include "filter_complementary.h"
  13:App/Utils/filter_complementary.c **** #include <math.h>
  14:App/Utils/filter_complementary.c **** 
  15:App/Utils/filter_complementary.c **** /**
  16:App/Utils/filter_complementary.c ****  * @brief Complementary filter initialisation function
  17:App/Utils/filter_complementary.c ****  * 
  18:App/Utils/filter_complementary.c ****  * @param filter 
  19:App/Utils/filter_complementary.c ****  * @param alpha 
  20:App/Utils/filter_complementary.c ****  */
  21:App/Utils/filter_complementary.c **** void ComplementaryFilter_Init(ComplementaryFilter_Data_t* filter, float alpha)
  22:App/Utils/filter_complementary.c **** {
  30              		.loc 1 22 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  23:App/Utils/filter_complementary.c ****     filter->alpha = alpha;
  35              		.loc 1 23 5 view .LVU1
ARM GAS  /tmp/ccQnQFVZ.s 			page 2


  36              		.loc 1 23 19 is_stmt 0 view .LVU2
  37 0000 80ED000A 		vstr.32	s0, [r0]
  24:App/Utils/filter_complementary.c ****     filter->attitude->roll = 0.0f;
  38              		.loc 1 24 5 is_stmt 1 view .LVU3
  39              		.loc 1 24 11 is_stmt 0 view .LVU4
  40 0004 4268     		ldr	r2, [r0, #4]
  41              		.loc 1 24 28 view .LVU5
  42 0006 0023     		movs	r3, #0
  43 0008 5360     		str	r3, [r2, #4]	@ float
  25:App/Utils/filter_complementary.c ****     filter->attitude->pitch = 0.0f;
  44              		.loc 1 25 5 is_stmt 1 view .LVU6
  45              		.loc 1 25 11 is_stmt 0 view .LVU7
  46 000a 4268     		ldr	r2, [r0, #4]
  47              		.loc 1 25 29 view .LVU8
  48 000c 1360     		str	r3, [r2]	@ float
  26:App/Utils/filter_complementary.c ****     filter->attitude->yaw = 0.0f;
  49              		.loc 1 26 5 is_stmt 1 view .LVU9
  50              		.loc 1 26 11 is_stmt 0 view .LVU10
  51 000e 4268     		ldr	r2, [r0, #4]
  52              		.loc 1 26 27 view .LVU11
  53 0010 9360     		str	r3, [r2, #8]	@ float
  27:App/Utils/filter_complementary.c **** }
  54              		.loc 1 27 1 view .LVU12
  55 0012 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE0:
  59              		.section	.text.ComplementaryFilter_Update,"ax",%progbits
  60              		.align	1
  61              		.global	ComplementaryFilter_Update
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  66              	ComplementaryFilter_Update:
  67              	.LVL1:
  68              	.LFB1:
  28:App/Utils/filter_complementary.c **** 
  29:App/Utils/filter_complementary.c **** /**
  30:App/Utils/filter_complementary.c ****  * @brief Complemetary filter update function
  31:App/Utils/filter_complementary.c ****  * 
  32:App/Utils/filter_complementary.c ****  * @param filter 
  33:App/Utils/filter_complementary.c ****  * @param imu_data 
  34:App/Utils/filter_complementary.c ****  * @param dt 
  35:App/Utils/filter_complementary.c ****  */
  36:App/Utils/filter_complementary.c **** void ComplementaryFilter_Update(ComplementaryFilter_Data_t* filter, IMU_Data_t* imu_data, float dt)
  37:App/Utils/filter_complementary.c **** {
  69              		.loc 1 37 1 is_stmt 1 view -0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		.loc 1 37 1 is_stmt 0 view .LVU14
  74 0000 38B5     		push	{r3, r4, r5, lr}
  75              	.LCFI0:
  76              		.cfi_def_cfa_offset 16
  77              		.cfi_offset 3, -16
  78              		.cfi_offset 4, -12
  79              		.cfi_offset 5, -8
  80              		.cfi_offset 14, -4
ARM GAS  /tmp/ccQnQFVZ.s 			page 3


  81 0002 2DED028B 		vpush.64	{d8}
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 24
  84              		.cfi_offset 80, -24
  85              		.cfi_offset 81, -20
  86 0006 0546     		mov	r5, r0
  87 0008 0C46     		mov	r4, r1
  88 000a B0EE408A 		vmov.f32	s16, s0
  38:App/Utils/filter_complementary.c ****     /* Attitude estimate from accelerometer values */
  39:App/Utils/filter_complementary.c ****     float pitch_acc = atan2f(-imu_data->accel[0], sqrtf(imu_data->accel[1]*imu_data->accel[1] + imu
  89              		.loc 1 39 5 is_stmt 1 view .LVU15
  90              		.loc 1 39 46 is_stmt 0 view .LVU16
  91 000e D1ED008A 		vldr.32	s17, [r1]
  92              		.loc 1 39 72 view .LVU17
  93 0012 91ED010A 		vldr.32	s0, [r1, #4]
  94              	.LVL2:
  95              		.loc 1 39 75 view .LVU18
  96 0016 20EE000A 		vmul.f32	s0, s0, s0
  97              		.loc 1 39 112 view .LVU19
  98 001a D1ED027A 		vldr.32	s15, [r1, #8]
  99              		.loc 1 39 115 view .LVU20
 100 001e 67EEA77A 		vmul.f32	s15, s15, s15
 101              		.loc 1 39 23 view .LVU21
 102 0022 30EE270A 		vadd.f32	s0, s0, s15
 103 0026 FFF7FEFF 		bl	sqrtf
 104              	.LVL3:
 105              		.loc 1 39 23 view .LVU22
 106 002a F0EE400A 		vmov.f32	s1, s0
 107 002e B1EE680A 		vneg.f32	s0, s17
 108 0032 FFF7FEFF 		bl	atan2f
 109              	.LVL4:
 110 0036 F0EE408A 		vmov.f32	s17, s0
 111              	.LVL5:
  40:App/Utils/filter_complementary.c ****     float roll_acc = atan2f(imu_data->accel[1], imu_data->accel[2]);
 112              		.loc 1 40 5 is_stmt 1 view .LVU23
 113              		.loc 1 40 22 is_stmt 0 view .LVU24
 114 003a D4ED020A 		vldr.32	s1, [r4, #8]
 115 003e 94ED010A 		vldr.32	s0, [r4, #4]
 116              	.LVL6:
 117              		.loc 1 40 22 view .LVU25
 118 0042 FFF7FEFF 		bl	atan2f
 119              	.LVL7:
  41:App/Utils/filter_complementary.c **** 
  42:App/Utils/filter_complementary.c ****     /* Integrate gyro values */
  43:App/Utils/filter_complementary.c ****     float pitch_gyro = filter->attitude->pitch + imu_data->gyro[1] * dt;
 120              		.loc 1 43 5 is_stmt 1 view .LVU26
 121              		.loc 1 43 30 is_stmt 0 view .LVU27
 122 0046 6B68     		ldr	r3, [r5, #4]
 123              		.loc 1 43 40 view .LVU28
 124 0048 93ED007A 		vldr.32	s14, [r3]
 125              		.loc 1 43 64 view .LVU29
 126 004c 94ED046A 		vldr.32	s12, [r4, #16]
 127              		.loc 1 43 68 view .LVU30
 128 0050 26EE086A 		vmul.f32	s12, s12, s16
 129              		.loc 1 43 11 view .LVU31
 130 0054 37EE067A 		vadd.f32	s14, s14, s12
 131              	.LVL8:
ARM GAS  /tmp/ccQnQFVZ.s 			page 4


  44:App/Utils/filter_complementary.c ****     float roll_gyro = filter->attitude->roll + imu_data->gyro[0] * dt;
 132              		.loc 1 44 5 is_stmt 1 view .LVU32
 133              		.loc 1 44 39 is_stmt 0 view .LVU33
 134 0058 D3ED017A 		vldr.32	s15, [r3, #4]
 135              		.loc 1 44 62 view .LVU34
 136 005c 94ED036A 		vldr.32	s12, [r4, #12]
 137              		.loc 1 44 66 view .LVU35
 138 0060 26EE088A 		vmul.f32	s16, s12, s16
 139              	.LVL9:
 140              		.loc 1 44 11 view .LVU36
 141 0064 77EE887A 		vadd.f32	s15, s15, s16
 142              	.LVL10:
  45:App/Utils/filter_complementary.c **** 
  46:App/Utils/filter_complementary.c ****     /* Sensor fusion by complemetary filter */
  47:App/Utils/filter_complementary.c ****     filter->attitude->pitch = filter->alpha * pitch_gyro + (1 - filter->alpha) * pitch_acc;
 143              		.loc 1 47 5 is_stmt 1 view .LVU37
 144              		.loc 1 47 37 is_stmt 0 view .LVU38
 145 0068 95ED006A 		vldr.32	s12, [r5]
 146              		.loc 1 47 45 view .LVU39
 147 006c 26EE077A 		vmul.f32	s14, s12, s14
 148              	.LVL11:
 149              		.loc 1 47 63 view .LVU40
 150 0070 F7EE006A 		vmov.f32	s13, #1.0e+0
 151 0074 36EEC66A 		vsub.f32	s12, s13, s12
 152              		.loc 1 47 80 view .LVU41
 153 0078 26EE286A 		vmul.f32	s12, s12, s17
 154              		.loc 1 47 58 view .LVU42
 155 007c 37EE067A 		vadd.f32	s14, s14, s12
 156              		.loc 1 47 29 view .LVU43
 157 0080 83ED007A 		vstr.32	s14, [r3]
 158              	.LVL12:
  48:App/Utils/filter_complementary.c ****     filter->attitude->roll = filter->alpha * roll_gyro + (1 - filter->alpha) * roll_acc;
 159              		.loc 1 48 5 is_stmt 1 view .LVU44
 160              		.loc 1 48 36 is_stmt 0 view .LVU45
 161 0084 95ED007A 		vldr.32	s14, [r5]
 162              		.loc 1 48 44 view .LVU46
 163 0088 67EE277A 		vmul.f32	s15, s14, s15
 164              	.LVL13:
 165              		.loc 1 48 61 view .LVU47
 166 008c 76EEC76A 		vsub.f32	s13, s13, s14
 167              		.loc 1 48 78 view .LVU48
 168 0090 66EE806A 		vmul.f32	s13, s13, s0
 169              		.loc 1 48 11 view .LVU49
 170 0094 6B68     		ldr	r3, [r5, #4]
 171              	.LVL14:
 172              		.loc 1 48 56 view .LVU50
 173 0096 77EEA67A 		vadd.f32	s15, s15, s13
 174              		.loc 1 48 28 view .LVU51
 175 009a C3ED017A 		vstr.32	s15, [r3, #4]
  49:App/Utils/filter_complementary.c **** 
  50:App/Utils/filter_complementary.c **** }
 176              		.loc 1 50 1 view .LVU52
 177 009e BDEC028B 		vldm	sp!, {d8}
 178              	.LCFI2:
 179              		.cfi_restore 80
 180              		.cfi_restore 81
 181              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccQnQFVZ.s 			page 5


 182 00a2 38BD     		pop	{r3, r4, r5, pc}
 183              		.loc 1 50 1 view .LVU53
 184              		.cfi_endproc
 185              	.LFE1:
 187              		.section	.text.ComplementaryFilter_GetAttitude,"ax",%progbits
 188              		.align	1
 189              		.global	ComplementaryFilter_GetAttitude
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 194              	ComplementaryFilter_GetAttitude:
 195              	.LVL15:
 196              	.LFB2:
  51:App/Utils/filter_complementary.c **** 
  52:App/Utils/filter_complementary.c **** /**
  53:App/Utils/filter_complementary.c ****  * @brief Function for reading attitude data result from complemetary filter
  54:App/Utils/filter_complementary.c ****  * 
  55:App/Utils/filter_complementary.c ****  * @param filter 
  56:App/Utils/filter_complementary.c ****  * @return Attitude_Data_t 
  57:App/Utils/filter_complementary.c ****  */
  58:App/Utils/filter_complementary.c **** Attitude_Data_t* ComplementaryFilter_GetAttitude(ComplementaryFilter_Data_t* filter)
  59:App/Utils/filter_complementary.c **** {
 197              		.loc 1 59 1 is_stmt 1 view -0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201              		@ link register save eliminated.
  60:App/Utils/filter_complementary.c ****     return filter->attitude;
 202              		.loc 1 60 5 view .LVU55
  61:App/Utils/filter_complementary.c **** }...
 203              		.loc 1 61 1 is_stmt 0 view .LVU56
 204 0000 4068     		ldr	r0, [r0, #4]
 205              	.LVL16:
 206              		.loc 1 61 1 view .LVU57
 207 0002 7047     		bx	lr
 208              		.cfi_endproc
 209              	.LFE2:
 211              		.text
 212              	.Letext0:
 213              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 214              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 215              		.file 4 "App/Config/sensor_types.h"
 216              		.file 5 "App/Config/filter_types.h"
 217              		.file 6 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/math.h"
ARM GAS  /tmp/ccQnQFVZ.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 filter_complementary.c
     /tmp/ccQnQFVZ.s:20     .text.ComplementaryFilter_Init:0000000000000000 $t
     /tmp/ccQnQFVZ.s:26     .text.ComplementaryFilter_Init:0000000000000000 ComplementaryFilter_Init
     /tmp/ccQnQFVZ.s:60     .text.ComplementaryFilter_Update:0000000000000000 $t
     /tmp/ccQnQFVZ.s:66     .text.ComplementaryFilter_Update:0000000000000000 ComplementaryFilter_Update
     /tmp/ccQnQFVZ.s:188    .text.ComplementaryFilter_GetAttitude:0000000000000000 $t
     /tmp/ccQnQFVZ.s:194    .text.ComplementaryFilter_GetAttitude:0000000000000000 ComplementaryFilter_GetAttitude

UNDEFINED SYMBOLS
sqrtf
atan2f
